{"ast":null,"code":"import httpService from \"./httpServices\";\nimport jwtDecode from \"jwt-decode\";\nconst TOKEN_KEY = \"token\";\nexport function createUser(user) {\n  return httpService.post(\"/users\", user);\n}\nexport async function login(credentials) {\n  const response = await httpService.post(\"/auth\", credentials);\n  localStorage.setItem(TOKEN_KEY, response.data.token);\n  return response;\n}\nexport function logout() {\n  localStorage.removeItem(TOKEN_KEY);\n}\nexport function getJWT() {\n  return localStorage.getItem(TOKEN_KEY);\n}\nexport function getUser() {\n  try {\n    const token = getJWT();\n    return jwtDecode(token);\n  } catch {\n    return null;\n  }\n}\nconst usersService = {\n  createUser,\n  login,\n  logout,\n  getUser,\n  getJWT\n};\nexport default usersService;","map":{"version":3,"names":["httpService","jwtDecode","TOKEN_KEY","createUser","user","post","login","credentials","response","localStorage","setItem","data","token","logout","removeItem","getJWT","getItem","getUser","usersService"],"sources":["C:/Users/yoelb/Desktop/HackerU Files/Projects/class_practice/React/real-app/real-app-front/src/services/usersServices.js"],"sourcesContent":["import httpService from \"./httpServices\";\r\nimport jwtDecode from \"jwt-decode\";\r\n\r\nconst TOKEN_KEY = \"token\";\r\n\r\nexport function createUser(user) {\r\n   return httpService.post(\"/users\", user);\r\n}\r\n\r\nexport async function login(credentials) {\r\n   const response = await httpService.post(\"/auth\", credentials);\r\n   localStorage.setItem(TOKEN_KEY, response.data.token);\r\n\r\n   return response;\r\n}\r\n\r\nexport function logout() {\r\n   localStorage.removeItem(TOKEN_KEY);\r\n}\r\n\r\nexport function getJWT() {\r\n   return localStorage.getItem(TOKEN_KEY);\r\n}\r\n\r\nexport function getUser() {\r\n   try {\r\n      const token = getJWT();\r\n      return jwtDecode(token);\r\n   } catch {\r\n      return null;\r\n   }\r\n}\r\n\r\nconst usersService = {\r\n   createUser,\r\n   login,\r\n   logout,\r\n   getUser,\r\n   getJWT,\r\n};\r\n\r\nexport default usersService;\r\n"],"mappings":"AAAA,OAAOA,WAAW,MAAM,gBAAgB;AACxC,OAAOC,SAAS,MAAM,YAAY;AAElC,MAAMC,SAAS,GAAG,OAAO;AAEzB,OAAO,SAASC,UAAUA,CAACC,IAAI,EAAE;EAC9B,OAAOJ,WAAW,CAACK,IAAI,CAAC,QAAQ,EAAED,IAAI,CAAC;AAC1C;AAEA,OAAO,eAAeE,KAAKA,CAACC,WAAW,EAAE;EACtC,MAAMC,QAAQ,GAAG,MAAMR,WAAW,CAACK,IAAI,CAAC,OAAO,EAAEE,WAAW,CAAC;EAC7DE,YAAY,CAACC,OAAO,CAACR,SAAS,EAAEM,QAAQ,CAACG,IAAI,CAACC,KAAK,CAAC;EAEpD,OAAOJ,QAAQ;AAClB;AAEA,OAAO,SAASK,MAAMA,CAAA,EAAG;EACtBJ,YAAY,CAACK,UAAU,CAACZ,SAAS,CAAC;AACrC;AAEA,OAAO,SAASa,MAAMA,CAAA,EAAG;EACtB,OAAON,YAAY,CAACO,OAAO,CAACd,SAAS,CAAC;AACzC;AAEA,OAAO,SAASe,OAAOA,CAAA,EAAG;EACvB,IAAI;IACD,MAAML,KAAK,GAAGG,MAAM,CAAC,CAAC;IACtB,OAAOd,SAAS,CAACW,KAAK,CAAC;EAC1B,CAAC,CAAC,MAAM;IACL,OAAO,IAAI;EACd;AACH;AAEA,MAAMM,YAAY,GAAG;EAClBf,UAAU;EACVG,KAAK;EACLO,MAAM;EACNI,OAAO;EACPF;AACH,CAAC;AAED,eAAeG,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}